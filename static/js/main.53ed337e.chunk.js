(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(275)},119:function(e,t,a){},141:function(e,t,a){},275:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),i=a.n(r),c=(a(119),a(45)),l=a(59),s=a.n(l),u=a(101),d=a(39),m=a(40),h=a(43),p=a(41),g=a(18),b=a(44),v=a(24),f=a(60),k=a.n(f),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k.a.get("https://evxoorqk27.execute-api.ap-south-1.amazonaws.com/dev/goodreadshello",{params:{q:e,page:t}})},w=(a(141),a(38)),y=a.n(w),x=a(29),O=a(111),S=a.n(O),j=a(42),C=a.n(j),N=a(113),_=a.n(N),q=a(112),I=a.n(q),B=a(15),D=a.n(B),R=a(61),M=a(103),W=a.n(M),L=a(104),P=a.n(L),z=a(105),A=a.n(z),H=a(106),J=a.n(H),T=a(109),G=a.n(T),$=a(110),F=a.n($),K=a(108),Q=a.n(K),U=a(19),V=a.n(U),X=a(30),Y=a.n(X),Z=a(107),ee=a.n(Z);function te(e){return o.a.createElement("div",{dangerouslySetInnerHTML:(t=e,{__html:t})});var t}var ae=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={currentBook:{},bookInfo:{},open:!1,fullWidth:!0},a.handleOpen=a.handleOpen.bind(Object(g.a)(a)),a.handleClose=a.handleClose.bind(Object(g.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleOpen",value:function(e){var t,a=this;(t=e.id,k.a.get("https://evxoorqk27.execute-api.ap-south-1.amazonaws.com/dev/getbooksreview",{params:{id:t}})).then(function(e){var t=e.data,n=(void 0===t?{}:t).book;console.log(n),a.setState({bookInfo:n})}).catch(function(e){console.error(e)}),this.setState({open:!0,currentBook:e})}},{key:"handleClose",value:function(){this.setState({open:!1,currentBook:{},bookInfo:{}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tileData,r=this.state,i=r.currentBook,c=void 0===i?{}:i,l=r.bookInfo,s=c.best_book,u=void 0===s?{}:s;return o.a.createElement("div",{className:a.root},o.a.createElement(W.a,{spacing:10,className:a.gridList,cols:6},n.map(function(t){return o.a.createElement(P.a,{key:"".concat(t.id,"_").concat(t.books_count,"_").concat(t.ratings_count)},o.a.createElement(Y.a,{className:a.image},o.a.createElement("img",{className:a.img,src:t.image_url,alt:t.title})),o.a.createElement(A.a,{title:t.title,subtitle:o.a.createElement("span",null,"by: ",t.name),actionIcon:o.a.createElement(C.a,{className:a.icon,onClick:function(){return e.handleOpen(t)}},o.a.createElement(J.a,null))}))})),o.a.createElement(ee.a,{fullWidth:this.state.fullWidth,maxWidth:"md",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"max-width-dialog-title"},o.a.createElement(Q.a,{id:"max-width-dialog-title"},o.a.createElement(G.a,null,c.title)),o.a.createElement(F.a,null,o.a.createElement(V.a,{container:!0,spacing:16},o.a.createElement(V.a,{item:!0},o.a.createElement(Y.a,{className:a.image},o.a.createElement("img",{className:a.img,src:c.image_url,alt:c.title}))),o.a.createElement(V.a,{item:!0,xs:12,sm:!0,container:!0},o.a.createElement(V.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:16},o.a.createElement(V.a,{item:!0,xs:!0},o.a.createElement(D.a,{variant:"subtitle2",id:"modal-title2"},c.name),o.a.createElement(D.a,{color:"textSecondary"},"ID: ",u.id),o.a.createElement(D.a,{color:"textSecondary"},"ISBN: ",l.isbn),o.a.createElement(D.a,{color:"textSecondary"},"Publisher: ",l.publisher),o.a.createElement(D.a,{color:"textSecondary"},"Pages: ",l.num_pages))),o.a.createElement(V.a,{item:!0,xs:!0},o.a.createElement(D.a,{variant:"subtitle2"},"Rating ",c.average_rating),o.a.createElement(D.a,{color:"textSecondary"},"Count ",c.ratings_count),o.a.createElement(D.a,{color:"textSecondary"},"Language: ",l.language_code))),l.description?o.a.createElement(V.a,{item:!0},o.a.createElement(D.a,{variant:"subtitle1"},"Description"),o.a.createElement(D.a,{color:"textSecondary",variant:"subtitle1"},te(l.description)),o.a.createElement(D.a,{color:"textSecondary",variant:"subtitle1"},te(l.reviews_widget))):null))))}}]),t}(n.Component),ne=Object(x.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,outline:"none"},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"95%",height:"95%"},icon:{color:"rgba(255, 255, 255, 0.54)"},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})(ae),oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).showMessage=function(e,t){a.props.enqueueSnackbar(e,{variant:t})},a.state={value:"",queryDetails:{},books:[],pageIndex:1},a.fetchResults=a.fetchResults.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.makeRequest=a.makeRequest.bind(Object(g.a)(a)),a.loadMore=a.loadMore.bind(Object(g.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"makeRequest",value:function(){var e=Object(u.a)(s.a.mark(function e(a,n){var o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(a,n);case 3:return o=e.sent,e.abrupt("return",t.formatData(o.data));case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadMore",value:function(e){var t=this,a=this.state.pageIndex;this.makeRequest(this.state.value,a+1).then(function(e){var n=e.books,o=e.queryDetails;0===e.books.length&&t.showMessage("No more books to fetch!","warning"),t.setState({pageIndex:a+1,books:t.state.books.concat(n),queryDetails:o})}).catch(function(e){console.error(e)}),e.preventDefault()}},{key:"fetchResults",value:function(e){var t=this;this.makeRequest(this.state.value).then(function(e){0===e.books.length&&t.showMessage("No Books found!","warning"),t.setState(Object(v.a)({},e))}).catch(function(e){console.error(e)}),e.preventDefault()}},{key:"render",value:function(){var e=this.props.classes,t=this.state.books;return o.a.createElement("div",{className:"App"},o.a.createElement(y.a,{elevation:1,className:e.root},o.a.createElement("form",{onSubmit:this.fetchResults},o.a.createElement(D.a,{variant:"subtitle1",id:"modal-title"},"GoodReads API search"),o.a.createElement(S.a,{className:e.input,onChange:this.handleChange,style:{border:"grey 1px",borderStyle:"solid",borderRadius:"5px"},placeholder:"Search for a Book"}),o.a.createElement(C.a,{className:e.iconButton,"aria-label":"Search"},o.a.createElement(I.a,null)))),o.a.createElement("div",null,o.a.createElement(ne,{tileData:t}),t&&t.length?o.a.createElement(_.a,{onClick:this.loadMore,variant:"contained",className:e.button},"Load More"):null))}}]),t}(n.Component);oe.formatData=function(e){var t=e.results,a=Object(c.a)(e,["results"]);"string"==typeof t&&(t={});var n=t.work;return{queryDetails:a,books:(void 0===n?[]:n).map(function(e){var t=e.best_book,a=void 0===t?{}:t,n=a.author,o=void 0===n?{}:n;return Object(v.a)({},e,o,a)})}};var re=Object(R.withSnackbar)(Object(x.withStyles)(function(e){return{root:Object(v.a)({},e.mixins.gutters(),{paddingTop:1*e.spacing.unit,paddingBottom:2*e.spacing.unit}),input:{padding:3,marginLeft:8,flex:1,width:400},iconButton:{padding:10},divider:{width:1,height:28,margin:4},button:{margin:e.spacing.unit}}})(oe));var ie=function(){return o.a.createElement(R.SnackbarProvider,{maxSnack:3},o.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[114,1,2]]]);
//# sourceMappingURL=main.53ed337e.chunk.js.map